<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<!--
	CREATED BY : PRAVEEN
	DATE : 17-09-24
-->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css"
	href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/font-awesome/5.9.0/css/all.min.css"
	th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/jquery-ui/1.12.1/jquery-ui.min.css"
	th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
<link rel="stylesheet" type="text/css"
	href="/webjars/datatables/1.10.19/css/jquery.dataTables.min.css"
	th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
<link rel="shortcut icon" th:href="@{/favicon.ico}" type="image/x-icon">
<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon">

<script src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"
	th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
<script src="/webjars/popper.js/1.14.7/umd/popper.min.js"
	th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
<script src="/webjars/jquery/3.4.1/jquery.min.js"
	th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js"
	th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>

<script src="/webjars/jquery-form/4.2.2/jquery.form.min.js"
	th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>

<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>

<script src="/webjars/datatables/1.10.19/js/jquery.dataTables.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
<script
	src="/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js"
	th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>

<!--moment.js-->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>




<style>
body {
	font-size: 0.8rem;
}

.btn {
	line-height: 0.5rem;
}

.table-bordered td, .table-bordered th {
	font-size: smaller;
}

.container-manager {
	width: 83.5%;
	padding-right: 15px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: 17.3%;
	margin-top: 80px;
	margin-top: 80px;
}

.table .thead-light th {
	color: #495057;
	background-color: #e9ecef;
	border-color: #dee2e6;
	width: 23px;
}

.tablinks {
	background-color: #f2f2f2;
	color: #000;
}

.tablinks.active {
	background-color: #007bff;
	color: #fff;
}

.tab {
	overflow: hidden;
	border: 1px solid #ccc;
	background-color: #f1f1f1;
}

.scroll {
	max-height: 60vh;
	overflow-y: scroll;
	overflow-x: hidden;
}

.tab button {
	background-color: inherit;
	float: left;
	border: none;
	outline: none;
	cursor: pointer;
	padding: 14px 16px;
	transition: 0.3s;
	font-size: 17px;
}

.tab button:hover {
	background-color: #ddd;
}

.tabcontent {
	display: none;
	padding: 6px 12px;
	border: 0px solid #ccc;
	border-top: none;
}

#myPieChart {
	width: 100px;
	height: 100px;
}
</style>
<style>
.modal {
	display: none;
	position: fixed;
	z-index: 1;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	overflow: auto;
	background-color: rgba(0, 0, 0, 0.4);
	margin-left: 350px;
}

.modal-content {
	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 70%;
	height: 50%;
	margin-left: 200px;
}

.modal-pass {
	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 40%;
	height: 25%;
	margin-left: 400PX;
	margin-right: auto;
	border-radius: 10px;
	box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
	font-family: Arial, sans-serif;
}

.close {
	color: red;
	font-size: 28px;
	font-weight: bold;
}

.close:hover, .close:focus {
	color: black;
	text-decoration: none;
	cursor: pointer;
}

.table-responsive {
	max-height: 600px;
	overflow-y: auto;
}

.table-responsive1 {
	max-height: 420px;
	overflow-y: auto;
}

table {
	width: 100%;
	border-collapse: collapse;
}

thead {
	position: sticky;
	top: 0;
	background-color: #f9f9f9;
	z-index: 10;
}

th, td {
	padding: 12px;
	text-align: left;
	border-bottom: 1px solid #ddd;
}
</style>
<style>
.password-info {
	visibility: hidden;
	width: 320px;
	background-color: #333;
	color: #fff;
	text-align: left;
	border-radius: 10px;
	padding: 10px;
	position: absolute;
	z-index: 1;
	top: calc(100% + 10px);
	left: 50%;
	transform: translateX(-50%);
	opacity: 0;
	transition: opacity 0.3s;
}

input:hover+.password-info {
	visibility: visible;
	opacity: 0.8;
}

.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-moz-placeholder {
	color: #333;
}

.filterable .filters input[disabled]:-ms-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}
</style>
<script th:inline="javascript">
	/*<![CDATA[*/

	function Home() {
		location.href = 'Dashboard'
	}

	function Back() {
		window.history.back();
	}

	function enquiryuser(a) {
		var acct_num = a.getAttribute("data-attr");
		
		location.href = 'participatingJobs?formmode=view&acct_num=' + acct_num;
	}

	$(function() {
		$("#fromdate").datepicker({
			changeMonth : true,
			changeYear : true,
			dateFormat : "dd-mm-yy",
			maxDate : 0,
			onSelect : function(selected) {
				var dt = $(this).datepicker('getDate');
				if (dt) {
					dt.setDate(dt.getDate());
					$("#todate").datepicker("option", "minDate", dt);
				}
			}
		});

		$("#todate").datepicker({
			changeMonth : true,
			changeYear : true,
			dateFormat : "dd-mm-yy",
			maxDate : 0,
			onSelect : function(selected) {
				var fromdate = $("#fromdate").val();
				var todate = $("#todate").val();

				if (!fromdate) {
					alert("Enter From date");
				} else {
					funcall();
				}
			}
		});
	});
</script>


<style>
/* Hide the "Part Tran Id" and "Test" columns */
.part-tran-id-col, .test-col {
	display: none;
}
</style>
<script>
	
</script>


</head>


<body>

	<div class="col-sm-2">
		<div th:insert="BGLSHeaderMenu :: header"></div>
	</div>
	<!---------------------User List Starts------------------------------------------------------->
	<!-- Start Content-->
	<div class="container-manager">



		<div class="row">


			<div class="col-sm-11 ml-5 mt-2" style="font-size: 0.8rem;">


				<!-- ------------------------------------Account Ledger List---------------------------------- -->
				<div th:if="${formmode}=='list'">

					<div class="panel panel-primary filterable">
						<div class="card w-100 border panel panel-primary filterable">

							<div class="card-header"
								style="background-color: #e9ecef; height: 50px">
								<div class="float-left">
									<h6 style="font-size: 1.2rem; color: black;">PATICIPATING
										BANK LIST</h6>
								</div>
								<div class="float-right">
									<button type="button"
										class="btn btn-xs btn-primary btns p-2 border btn-filter">Filter</button>
								</div>
							</div>




							<div class="card-body">
								<div class="table-responsive">
									<table class="table  table-bordered table-hover table-sm"
										style="margin-bottom: 0px; font-size: initial;" id="usertable">
										<thead class="thead-light">
											<tr class="filters">
												<th style="width:10%"><input type="text"
													class="form-control font-weight-bold"
													placeholder="BANK CODE" disabled></th>
												<th style="width: 15%"><input type="text"
													class="form-control font-weight-bold"
													placeholder="BANK NAME" disabled></th>
												<th style="width: 10%"><input type="text"
													class="form-control font-weight-bold"
													placeholder="BRANCH CODE" disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="BRANCH NAME
													" disabled></th>
												<th style="text-align: left"><input type="text"
													style="text-align: left"
													class="form-control font-weight-bold"
													placeholder="SETTLEMENT ACCOUNT NO" disabled></th>
												<!-- <th style="text-align: right"><input type="text"
													style="text-align: left"
													class="form-control font-weight-bold"
													placeholder="MIRROR ACCOUNT NO" disabled></th> -->
												<th style="width: 20%"><input type="text"
													style="text-align: center"
													class="form-control font-weight-bold" placeholder="SELECT"
													disabled></th>
												<!-- <th style="font-weight: bold; font-size: 16px; width: 8%">ACTION</th> -->
											</tr>

										</thead>
										<tbody id="placelist">
											<tr th:each="chartacc : ${chartaccount}">
												<td th:text="${chartacc?.bank_code}"></td>
												<td th:text="${chartacc?.bank_name}"></td>
												<td th:text="${chartacc?.branch_code}"></td>
												<td th:text="${chartacc?.branch_name}"></td>
												<td th:text="${chartacc?.settlement_account_no}"></td>
												<!-- <td th:text="${chartacc?.mirror_account_no}"></td> -->
												<td style="text-align: center;"><input type="radio"
													id="btnEnquiry" name="btnradio" style="cursor: pointer;"
													th:attr="data-attr=${chartacc?.settlement_account_no}"
													onclick="enquiryuser(this);"></td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>

							<div class="card-footer text-center"
								style="background-color: #e9ecef">


								<button class="btn btn-primary p-2" onclick="Home();">Home</button>
								<button class="btn btn-primary p-2" onclick="Back();">Back</button>

							</div>

						</div>
					</div>
				</div>


				<!-- ------------------------------------Account Ledger view---------------------------------- -->
				<div th:if="${formmode}=='view'">


					<div class="card w-100 border">
						<div class="card-header"
							style="background-color: #e9ecef; height: 50px">
							<div class="float-left">
								<h6 style="font-size: 1.2rem; color: black;">PATICIPATING
									BANK LIST - INQUIRY</h6>
							</div>

						</div>
						<div class="card-body">
							<form action="#" id="" th:object="${chartaccount}">
								<div class="row formline" style="padding: 15px 0px 5px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">BANK CODE</div>
									<div class="col-sm-2">
										<input type="text" name="bank_code" id="bank_code"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.bank_code}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">BANK NAME</div>
									<div class="col-sm-2">
										<input type="text" name="bank_name" id="bank_name"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.bank_name}" readonly />
									</div>

								</div>

								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">BRANCH CODE</div>
									<div class="col-sm-2">
										<input type="text" name="branch_code" id="branch_code"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.branch_code}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">BRANCH NAME</div>
									<div class="col-sm-2">
										<input type="text" name="branch_name" id="branch_name"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.branch_name}" readonly />
									</div>

								</div>

								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">ADDRESS 1</div>
									<div class="col-sm-2">
										<input type="text" name="address_1" id="address_1"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.address_1}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">ADDRESS 2</div>
									<div class="col-sm-2">
										<input type="text" name="address_2" id="address_2"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.address_2}" readonly />
									</div>
								</div>

								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">CITY</div>
									<div class="col-sm-2">
										<input type="text" name="city" id="city"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.city}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">DISTRICT</div>
									<div class="col-sm-2">
										<input type="text" name="district" id="district"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.district}" readonly />
									</div>
								</div>
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">STATE</div>
									<div class="col-sm-2">
										<input type="text" name="state" id="state"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.state}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">COUNTRY</div>
									<div class="col-sm-2">
										<input type="text" name="country" id="country"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.country}" readonly />
									</div>
								</div>
								
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">LANDLINE</div>
									<div class="col-sm-2">
										<input type="text" name="landline" id="landline"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.landline}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">WEB SITE</div>
									<div class="col-sm-2">
										<input type="text" name="web_site" id="web_site"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.web_site}" readonly />
									</div>
								</div>
								
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">CONTACT PERSON</div>
									<div class="col-sm-2">
										<input type="text" name="contact_person" id="contact_person"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.contact_person}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">CONTACT DETAILS</div>
									<div class="col-sm-2">
										<input type="text" name="contact_details" id="contact_details"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.contact_details}" readonly />
									</div>
								</div>
								
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">MOBILE NO</div>
									<div class="col-sm-2">
										<input type="text" name="mobile_no" id="mobile_no"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.mobile_no}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">EMAIL ID
									</div>
									<div class="col-sm-2">
										<input type="text" name="email_id" id="email_id"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.email_id}" readonly />
									</div>
								</div>
								
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">SWIFT CODE</div>
									<div class="col-sm-2">
										<input type="text" name="swift_code" id="swift_code"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.swift_code}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">BIC CODE</div>
									<div class="col-sm-2">
										<input type="text" name="bic_code" id="bic_code"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.bic_code}" readonly />
									</div>
								</div>
								
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">SETTLEMENT ACCOUNT NO</div>
									<div class="col-sm-2">
										<input type="text" name="settlement_account_no" id="settlement_account_no"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.settlement_account_no}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">SETTLEMENT ACCOUNT NAME</div>
									<div class="col-sm-2">
										<input type="text" name="settlement_account_name" id="settlement_account_name"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.settlement_account_name}" readonly />
									</div>
								</div>
								
								<div class="row formline" style="padding: 0px 0px 2px 30px;">
									<div class="col-sm-1"></div>
									<div class="col-sm-2">SETTLEMENT CURRENCY</div>
									<div class="col-sm-2">
										<input type="text" name="settlement_currency" id="settlement_currency"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.settlement_currency}" readonly />
									</div>
									<div class="col-sm-1"></div>
									<div class="col-sm-2">MIRROR ACCOUNT NO</div>
									<div class="col-sm-2">
										<input type="text" name="mirror_account_no" id="mirror_account_no"
											class="form-control form-control-sm bg-white border border-dark"
											th:value="${chartaccount?.mirror_account_no}" readonly />
									</div>
								</div>

								
								
							</form>
						</div>

						<div class="card-footer text-center"
							style="background-color: #e9ecef">
							<button class="btn btn-primary" onclick="Home();">Home</button>
							<button class="btn btn-primary" onclick="Back();">Back</button>
						</div>


					</div>



				</div>

			</div>



		</div>
	</div>

	<!---------------------Modal Alerts------------------------------------------------------>

	<div class="modal fade" data-backdrop="false" data-keyboard="false"
		id="normalalert" tabindex="-1" role="dialog" aria-hidden="true">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content"
				style="position: fixed; left: 50%; bottom: 35%; right: 20%; transform: translate(-50%, 0%); width: 30%; height: 25%;">
				<div class="modal-header">
					<h5 class="modal-title">Alerts</h5>

					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true" onclick="$('#normalalert').modal('hide')">×</button>
				</div>
				<div class="modal-body" style="text-align: center;">
					<h6 id="normalalertmsg"></h6>
					<button type="button" class="btn btn-primary" data-dismiss="modal"
						onclick="$('#normalalert').modal('hide')">Close</button>
				</div>
			</div>
		</div>
	</div>



</body>
<script>
	function setFirstDate() {

		// Get all date elements from the table (Tran Date column)
		var dateElements = document
				.querySelectorAll('#list1 tbody tr td:nth-child(1)');

		if (dateElements.length > 0) {
			// Retrieve the first date (assuming the table is sorted by date)
			var firstDate = dateElements[0].textContent.trim(); // Trim to avoid extra spaces
			//alert(firstDate)
			// No need to change the format if the text field expects 'dd-MM-yyyy'
			document.getElementById('fromdate').value = firstDate;

		}

		var today = new Date();
		var day = String(today.getDate()).padStart(2, '0'); // Ensure two digits
		var month = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based, so +1
		var year = today.getFullYear();

		// Format date as 'dd-MM-yyyy'
		var formattedDate = day + '-' + month + '-' + year;

		// Set the current date in the 'todate' input field
		document.getElementById('todate').value = formattedDate;
	}

	window.onload = function() {
		setFirstDate();
	};

	//Filter Table

	$(document)
			.ready(
					function() {
						$('.filterable .btn-filter')
								.click(
										function() {
											var $panel = $(this).parents(
													'.filterable'), $filters = $panel
													.find('.filters input'), $tbody = $panel
													.find('.table tbody');
											if ($filters.prop('disabled') == true) {
												$filters
														.prop('disabled', false);
												$filters.first().focus();
											} else {
												$filters.val('').prop(
														'disabled', true);
												$tbody.find('.no-result')
														.remove();
												$tbody.find('tr').show();
											}
										});

						$('.filterable .filters input')
								.keyup(
										function(e) {
											/* Ignore tab key */
											var code = e.keyCode || e.which;
											if (code == '9')
												return;
											/* Useful DOM data and selectors */
											var $input = $(this), inputContent = $input
													.val().toLowerCase(), $panel = $input
													.parents('.filterable'), column = $panel
													.find('.filters th')
													.index($input.parents('th')), $table = $panel
													.find('.table'), $rows = $table
													.find('tbody tr');
											/* Dirtiest filter function ever ;) */
											var $filteredRows = $rows
													.filter(function() {
														var value = $(this)
																.find('td').eq(
																		column)
																.text()
																.toLowerCase();
														return value
																.indexOf(inputContent) === -1;
													});
											/* Clean previous no-result if exist */
											$table.find('tbody .no-result')
													.remove();
											/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
											$rows.show();
											$filteredRows.hide();
											/* Prepend no-result row if all rows are filtered */
											if ($filteredRows.length === $rows.length) {
												$table
														.find('tbody')
														.prepend(
																$('<tr class="no-result text-center"><td colspan="'
																		+ $table
																				.find('.filters th').length
																		+ '">No result found</td></tr>'));
											}
										});
					});
</script>

</html>